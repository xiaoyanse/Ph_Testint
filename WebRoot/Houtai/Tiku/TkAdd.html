<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>layui</title>
	<meta name="renderer" content="webkit">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
	<link rel="stylesheet" href="../plugins/layui_2/css/layui.css"  media="all">
	<link href="../plugins/Wizard/bootstrap/css/bootstrap.min.css" rel="stylesheet" />
	<style>body{padding-top: 60px;}</style>
	<link href="../plugins/Wizard/bootstrap/css/bootstrap-responsive.min.css" rel="stylesheet" />
	<!-- <link rel="stylesheet" href="../plugins/layui_2/css/layui.css"  media="all"> -->
	<link href="../plugins/Wizard/css/bwizard.min.css" rel="stylesheet" />
	<!-- 注意：如果你直接复制所有代码到本地，上述css路径需要改成你本地的 -->
</head>
<body>          

<!-- 	<div>
		<div id="box"></div>
		<div id="button" style="height:80px" style="float: right;">
			<div class="layui-col-xs6">
				<input type="text"  id="XXinput"><p id="xuanxiang_num"></p>
			</div>
			<div class="layui-col-xs6" >
				<button class="layui-btn layui-btn-sm" onclick="addXuanxiang()" value="添加选项"  >添加选项</button>
				<button class="layui-btn layui-btn-primary layui-btn-sm" onclick="redoXuanxiang()">重新编辑</button>
				<button class="layui-btn layui-btn-sm" onclick="finishEdit()" value="编辑完成"   >编辑完成</button>
			</div>
		</div>
	</div> -->
	<div class="layui-row">
		<div class="layui-col-xs1 layui-col-sm1 layui-col-md2">
			<p>..</p>
		</div>		
		<div class="layui-col-xs10 layui-col-sm10 layui-col-md7">
			<blockquote class="layui-elem-quote">你可以在本页面添加你所需要的题目</blockquote>
			<input type="text" style="width: 95%"  id="Shijuan_Name" placeholder="试卷名称">
			<!-- <input type="text" style="width: 95%;height: 200px"  id="Shijuan_Jianjie" value="试卷简介"> -->
			<textarea placeholder="请输入试卷介绍内容（选填）" id="Shijuan_Jianjie" class="layui-textarea"></textarea>

		</div>	
		<div class="layui-col-xs1 layui-col-sm1 layui-col-md3">
			<p>.</p>
		</div>
	</div>	
	<div class="layui-row">
		<div class="layui-col-xs1 layui-col-sm1 layui-col-md2">
			<p>.</p>
		</div>		
		<div class="layui-col-xs10 layui-col-sm10 layui-col-md7" id="TimuBox">
			<!-- <blockquote class="layui-elem-quote layui-quote-nm" ></blockquote> -->
		</div>	
		<div class="layui-col-xs1 layui-col-sm1 layui-col-md3">
			
		</div>
	</div>
	<div class="layui-row">
		<div class="layui-col-xs1 layui-col-sm2 layui-col-md4">
			<p>.</p>
		</div>		
<!-- 		<div class="layui-col-xs7 layui-col-sm7 layui-col-md7">
			<input type="text" style="width: 90%" >
		</div>	 -->
		<div class="layui-col-xs11 layui-col-sm10 layui-col-md6">
			<button class="layui-btn layui-btn-sm" onclick="addTimu()" value="添加选项"  >添加题目</button>
			<button class="layui-btn layui-btn-primary layui-btn-sm" onclick="redoXuanxiang()">编辑</button>
			<button class="layui-btn layui-btn-sm" onclick="finishEdit()" value="编辑完成"   >完成</button>
		</div>
	</div>
	<script type="text/javascript">
		var Timu_num=1;
		function addTimu(){
			if(document.getElementById("Shijuan_Name").value==""){
				alert("请输入试卷名称啊大兄弟");
			}else{
				document.getElementById("TimuEditBox").style.cssText='display:block;';
				document.getElementById("Timu_Bianhao").innerHTML='第'+Timu_num+'题';
			};
		}
	</script>
	<div id="TimuEditBox"  style="display: none">
		<div class="layui-row">
			<div class="layui-col-xs1 layui-col-sm1 layui-col-md2">
				<p>.</p>
			</div>		
			<!-- <div class="layui-col-xs10 layui-col-sm10 layui-col-md7"> -->
				<div class="container layui-col-xs10 layui-col-sm10 layui-col-md7">
					<h1>__________</h1>
					<h2 id="Timu_Bianhao"></h2>
					<div id="wizard">
						<ol>
							<li>输入题目</li>
							<li>题目类型</li>
							<li>输入选项</li>
							<li>题目预览</li>
						</ol>
						<div>
							<textarea rows="12" id="TimuTitle" style="width: 100% ; resize: none;" placeholder="请输入题目"></textarea>
						</div>
						<div >
							<div class="layui-form-item">
								<div class="layui-input-inline">
									<select name="city" lay-verify="" lay-filter="TimuType_Select" id="TimuType_Select_01">
										<option value="Xuanze_dan" selected>单项选择题</option>
										<option value="Xuanze_duo" >多项选择题</option>
										<option value="Tiankong" >填空题</option>
									</select> 
								</div>
							</div> 
						</div>
						<div>
							<div id="box"></div>
							<div id="button" style="height:80px">
								<div class="layui-col-xs6">
									<input type="text" placeholder="输入选项内容"  id="XXinput"><p id="xuanxiang_num"></p>
								</div>
								<div class="layui-col-xs6">
									<button class="layui-btn layui-btn-sm" onclick="addXuanxiang()" value="添加选项"  >添加选项</button>
									<button class="layui-btn layui-btn-primary layui-btn-sm" onclick="redoXuanxiang()">重新编辑</button>
									<button class="layui-btn layui-btn-sm" onclick="finishEdit()" value="编辑完成"   >编辑完成</button>
								</div>
							</div>
						</div>
						<div>
							<ul>
								<li>题目：<p id="Timu_type_p">xuanze</p></li>
								<li>
									<blockquote class="layui-elem-quote layui-quote-nm" id="TimuYulan">空</blockquote>
								</li>
								<li>选项：</li>
								<li>
									<blockquote class="layui-elem-quote layui-quote-nm" id="XuxiangYulan">空</blockquote>
								</li>
								<li>
									<button class="layui-btn layui-btn-sm" onclick="finishEdit()" value="刷新"  >刷新</button>
									<button class="layui-btn layui-btn-sm" onclick="Timu_Tijiao()" >本题编辑完毕</button>
								</li>
							</ul>
						</div>
					</div>
				</div>
			<!-- </div> -->
			<div class="layui-col-xs1 layui-col-sm1 layui-col-md3">
				<p>.</p>
			</div>	
		</div>
		<script src="../plugins/Wizard/js/jquery.min.js"></script>
		<script src="../plugins/Wizard/bootstrap/js/bootstrap.min.js"></script>
		<script src="../plugins/Wizard/js/bwizard.min.js" type="text/javascript"></script>
		<!-- <script src="../plugins/layui/layui.js" charset="utf-8"></script> -->
		<script type="text/javascript">
			$("#wizard").bwizard();
			var i=1;
			var xuanxiang_num_str=document.getElementById("xuanxiang_num");
			function addXuanxiang() {
				var box = document.getElementById("box");
				var xuanxiang=document.getElementById("XXinput").value;
				var div = document.createElement("div"); 
				div.setAttribute("class", "layui-row");
				div.setAttribute("name", "XXlist");
				div.setAttribute("style", "line-height:100%");
		  	div.innerHTML = '<div class="layui-col-xs12" style=" border-top:solid 1px #999999"> <div class="grid-demo grid-demo-bg1" style="height:30px; line-height:30px " name="XXjieguo"  id="XXjieguo'+i+'">'+i+'：'+xuanxiang+'</div></div>';  //给li标签赋值
		  	box.appendChild(div);  //将创建好的li标签追加到box标签中
		  	i++;
		  	document.getElementById("XXinput").value="";
		  	xuanxiang_num_str.innerHTML='当前选项个数：'+(i-1);
		};

		//清空选项
		function redoXuanxiang(){
			// alert(div1);
			while(i>1){
				var div1=document.getElementById("box").children['XXlist'];
				div1.parentNode.removeChild(div1);
				i--;
				xuanxiang_num_str.innerHTML='当前选项个数：'+(i-1);
			}
		}	

		//清空title
		function redoTimuTitle(){
			document.getElementById("TimuTitle").value="";
		}		

		//清空预览界面
		function redoTimuYulan(){
			document.getElementById("TimuYulan").innerHTML="空";
			document.getElementById("XuxiangYulan").innerHTML="空";
		}


			//全局声明
			var TimuYulan_div=document.getElementById("TimuYulan");
			var XuxiangYulan_div=document.getElementById("XuxiangYulan");


			//检测是否编辑完成
			var ifdone=false;

			//全局变量声明
			var TimuTitle_str="";
			var xuanxiang_str="";

			function finishEdit(){
				TimuTitle_str=document.getElementById("TimuTitle").value;
				xuanxiang_str="";
			// alert(TimuTitle_str);
			if(TimuTitle_str!=""){
				if (document.getElementById("box").innerHTML!="") {
					for (var j = 1; j < i; j++) {
						xuanxiang_str+=document.getElementById("XXjieguo"+j).innerHTML+"<br>";
					}
					TimuYulan_div.innerHTML=TimuTitle_str;
					XuxiangYulan_div.innerHTML=xuanxiang_str;
					ifdone=true;
				}else{
					alert("兄弟你这题目没有选项？");
				}		
			}else{
				alert("题目还没有填写啊兄弟");
			}
		}

		function Timu_Tijiao(){
			if(ifdone){
				var Timubox=document.getElementById("TimuBox");
				Timubox.innerHTML+='<blockquote class="layui-elem-quote layui-quote-nm"  id="TimuBianhao'+Timu_num+'" >'+TimuTitle_str+'<br>'+xuanxiang_str+'</blockquote>';
				Timu_num++;

				addTimu();

				redoXuanxiang();
				redoTimuYulan();
				redoTimuTitle();

				ifdone=false;
			}else{
				alert("兄弟你这还没有编辑完吧");
				
			}
		}


		//清空编辑框；

	</script>

	<script src="../plugins/layui/layui.js" charset="utf-8"></script>


	<script>
		//这一段代码很重要
		layui.use('layer',
		function() { //独立版的layer无需执行这一句
			var $ = layui.jquery,
		    layer = layui.layer; //独立版的layer无需执行这一句
		    var active = {
		    	confirmTrans: function() {
		            //配置一个透明的询问框
		            layer.open({
		                type: 2 //Page层类型
		                ,area: ['800px', '600px'],
		                title: '题目编辑。',
		                shade: 0.5 //遮罩透明度
		                ,maxmin: true //允许全屏最小化
		                ,anim: 3 //0-6的动画形式，-1不开启
		                ,content: 'TimuEdit.html'
		            });
		        }
		    };
		    $('#TimuAdd .layui-btn').on('click',
		    	function() {
		    		var othis = $(this),
		    		method = othis.data('method');
		    		active[method] ? active[method].call(this, othis) : '';
		    	});
		});
	</script>

	<!-- <script>
		layui.use('form', function(){
			var form = layui.form;
			form.on('select(TimuType_Select)', function(data){
				  alert("hahahah");
				});  
		});
	</script> -->
</body>
</html>